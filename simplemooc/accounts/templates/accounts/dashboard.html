{% extends "base.html" %}

{% load courses_tags %}     {# carrega as tags presentes em 'courses_tags' o Django sabe que é uma template tag porque o arquivo está dentro de uma pasta chamada 'templatetags' que é o padrão. #}

{% block content %}
<div class="pure-g-r content-ribbon">
    <div class="pure-u-1">
        <ul class="breadcrumb">
        	{% block breadcrumb %}		{# herança de herança, template que herda de outro template #}
            <li><a href="{% url 'accounts:dashboard' %}">Meu Painel</a></li>
            {% endblock %}
        </ul>
    </div>
    <div class="pure-u-1-3">
        <div class="pure-menu pure-menu-open">
            <ul>
                {% load_my_courses user as enrollments %}
                <a class="pure-menu-heading">Meus Cursos</a>
                {% for enrollment in enrollments %}
                <li><a href="#">{{ enrollment.course }}</a></li>
                {% empty %}
                <li>Nenhum curso encontrado</li>
                {% endfor %}
                <li class="pure-menu-heading">Minha Conta</li>
                <li><a href="{% url 'accounts:edit' %}">Editar Conta</a></li>
                <li><a href="{% url 'accounts:edit_password' %}">Editar Senha</a></li>
            </ul>
        </div>
    </div>
    <div class="pure-u-2-3">
        <div class="inner">
        	{% block dashboard_content %}
            <p><strong>Usuário</strong>: {{ user }}</p>
            <p><strong>E-mail</strong>: {{ user.email }}</p>
            {% endblock %}
        </div>
    </div>
</div>
{% endblock  %}